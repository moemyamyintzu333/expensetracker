<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Expense Tracker</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Authentication Section -->
    <div id="auth-container" class="auth-container">
        <div class="auth-card">
            <h1>Expense Tracker</h1>
            
            <!-- Login Form -->
            <div id="login-section" class="auth-section">
                <h2>Welcome Back!</h2>
                <form id="login-form" class="auth-form">
                    <div class="form-group">
                        <label for="login-username">Username:</label>
                        <input type="text" id="login-username" name="username" placeholder="Enter your username" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Password:</label>
                        <input type="password" id="login-password" name="password" placeholder="Enter your password" required>
                    </div>
                    <button type="submit">Sign In</button>
                    <p class="auth-switch">Don't have an account? <a href="#" id="show-signup">Sign up here</a></p>
                </form>
            </div>
            
            <!-- Signup Form -->
            <div id="signup-section" class="auth-section hidden">
                <h2>Create Account</h2>
                <form id="signup-form" class="auth-form">
                    <div class="form-group">
                        <label for="signup-username">Username:</label>
                        <input type="text" id="signup-username" name="username" placeholder="Choose a username" required minlength="3" maxlength="20">
                    </div>
                    <div class="form-group">
                        <label for="signup-password">Password:</label>
                        <input type="password" id="signup-password" name="password" placeholder="Choose a password" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label for="signup-confirm-password">Confirm Password:</label>
                        <input type="password" id="signup-confirm-password" name="confirmPassword" placeholder="Confirm your password" required minlength="6">
                    </div>
                    <button type="submit">Create Account</button>
                    <p class="auth-switch">Already have an account? <a href="#" id="show-login">Sign in here</a></p>
                </form>
            </div>
            
            <div id="auth-error" class="error-message hidden"></div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app-container" class="container hidden">
        <header>
            <div class="user-info">
                <span id="current-user" class="current-user"></span>
                <button id="logout-btn" class="logout-btn">Logout</button>
            </div>
            <h1>Simple Expense Tracker</h1>
            <div class="total-display" role="status" aria-live="polite" aria-label="Total expenses">
                <span class="total-label">Total Expenses:</span>
                <span id="total-amount" class="total-amount" aria-describedby="total-description">$0.00</span>
                <span id="total-description" class="sr-only">Current total of all recorded expenses</span>
            </div>
        </header>

        <main>
            <section class="expense-form-section" aria-labelledby="form-heading">
                <h2 id="form-heading">Add New Expense</h2>
                <form id="expense-form" role="form" aria-describedby="form-instructions">
                    <div id="form-instructions" class="sr-only">
                        Fill out the form below to add a new expense. Description is required and must be between 1-100 characters. Amount must be a positive number up to $999,999.99.
                    </div>
                    
                    <div class="form-group">
                        <label for="description-input">Description:</label>
                        <input 
                            type="text" 
                            id="description-input" 
                            name="description"
                            placeholder="e.g., Coffee, Lunch, Gas"
                            maxlength="100"
                            required
                            aria-describedby="description-help"
                            autocomplete="off"
                        >
                        <div id="description-help" class="sr-only">
                            Enter a description for your expense, maximum 100 characters
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="amount-input">Amount:</label>
                        <input 
                            type="number" 
                            id="amount-input" 
                            name="amount"
                            placeholder="0.00"
                            step="0.01"
                            min="0.01"
                            max="999999.99"
                            required
                            aria-describedby="amount-help"
                            autocomplete="off"
                        >
                        <div id="amount-help" class="sr-only">
                            Enter the expense amount as a positive number, maximum $999,999.99
                        </div>
                    </div>
                    
                    <button type="submit" id="add-expense-btn" aria-describedby="button-help">
                        Add Expense
                    </button>
                    <div id="button-help" class="sr-only">
                        Click to add the expense to your list
                    </div>
                </form>
                
                <div id="error-message" class="error-message" style="display: none;" role="alert" aria-live="assertive">
                </div>
            </section>

            <section class="expense-list-section" aria-labelledby="list-heading">
                <h2 id="list-heading">Expense List</h2>
                <ul id="expense-list" class="expense-list" role="list" aria-label="List of recorded expenses">
                    <!-- Expenses will be dynamically added here -->
                </ul>
                <div class="empty-state" id="empty-state" aria-label="No expenses recorded">
                    <p>No expenses recorded yet. Add your first expense above!</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Edit Expense Modal -->
    <div id="edit-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Expense</h3>
                <button id="close-modal" class="close-btn">&times;</button>
            </div>
            <form id="edit-expense-form" class="modal-form">
                <div class="form-group">
                    <label for="edit-description">Description:</label>
                    <input type="text" id="edit-description" name="description" maxlength="100" required>
                </div>
                <div class="form-group">
                    <label for="edit-amount">Amount:</label>
                    <input type="number" id="edit-amount" name="amount" step="0.01" min="0.01" max="999999.99" required>
                </div>
                <div class="modal-actions">
                    <button type="button" id="cancel-edit" class="cancel-btn">Cancel</button>
                    <button type="submit" class="save-btn">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirm Delete</h3>
                <button id="close-delete-modal" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this expense?</p>
                <div id="delete-expense-details" class="expense-preview"></div>
            </div>
            <div class="modal-actions">
                <button type="button" id="cancel-delete" class="cancel-btn">Cancel</button>
                <button type="button" id="confirm-delete" class="delete-btn">Delete</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
